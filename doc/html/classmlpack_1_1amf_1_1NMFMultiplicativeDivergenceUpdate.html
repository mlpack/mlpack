<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>mlpack: mlpack::amf::NMFMultiplicativeDivergenceUpdate Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mlpack
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemlpack.html">mlpack</a></li><li class="navelem"><a class="el" href="namespacemlpack_1_1amf.html">amf</a></li><li class="navelem"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html">NMFMultiplicativeDivergenceUpdate</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mlpack::amf::NMFMultiplicativeDivergenceUpdate Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This follows a method described in the paper 'Algorithms for Non-negative.  
 <a href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a989aecc76d2b526557e030c7e63506ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a989aecc76d2b526557e030c7e63506ff">NMFMultiplicativeDivergenceUpdate</a> ()</td></tr>
<tr class="separator:a989aecc76d2b526557e030c7e63506ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81296ec72a027427fec6c48dd51ae60"><td class="memTemplParams" colspan="2">template&lt;typename MatType &gt; </td></tr>
<tr class="memitem:af81296ec72a027427fec6c48dd51ae60"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#af81296ec72a027427fec6c48dd51ae60">Initialize</a> (const MatType &amp;, const size_t)</td></tr>
<tr class="memdesc:af81296ec72a027427fec6c48dd51ae60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the factorization.  <a href="#af81296ec72a027427fec6c48dd51ae60">More...</a><br /></td></tr>
<tr class="separator:af81296ec72a027427fec6c48dd51ae60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9da2750641b65e8c534edb0eb6323b8"><td class="memTemplParams" colspan="2">template&lt;typename Archive &gt; </td></tr>
<tr class="memitem:ad9da2750641b65e8c534edb0eb6323b8"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#ad9da2750641b65e8c534edb0eb6323b8">Serialize</a> (Archive &amp;, const unsigned int)</td></tr>
<tr class="memdesc:ad9da2750641b65e8c534edb0eb6323b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize the object (in this case, there is nothing to serialize).  <a href="#ad9da2750641b65e8c534edb0eb6323b8">More...</a><br /></td></tr>
<tr class="separator:ad9da2750641b65e8c534edb0eb6323b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4d74e4fe86c3eacf1567be69950fd616"><td class="memTemplParams" colspan="2">template&lt;typename MatType &gt; </td></tr>
<tr class="memitem:a4d74e4fe86c3eacf1567be69950fd616"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a4d74e4fe86c3eacf1567be69950fd616">HUpdate</a> (const MatType &amp;V, const arma::mat &amp;W, arma::mat &amp;H)</td></tr>
<tr class="memdesc:a4d74e4fe86c3eacf1567be69950fd616"><td class="mdescLeft">&#160;</td><td class="mdescRight">The update rule for the encoding matrix H.  <a href="#a4d74e4fe86c3eacf1567be69950fd616">More...</a><br /></td></tr>
<tr class="separator:a4d74e4fe86c3eacf1567be69950fd616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="memTemplParams" colspan="2">template&lt;typename MatType &gt; </td></tr>
<tr class="memitem:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a9d17481f4277050bc0cfe4d2fddb54d8">WUpdate</a> (const MatType &amp;V, arma::mat &amp;W, const arma::mat &amp;H)</td></tr>
<tr class="memdesc:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The update rule for the basis matrix W.  <a href="#a9d17481f4277050bc0cfe4d2fddb54d8">More...</a><br /></td></tr>
<tr class="separator:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This follows a method described in the paper 'Algorithms for Non-negative. </p>
<div class="fragment"><div class="line">@inproceedings{lee2001algorithms,</div><div class="line">  title={Algorithms <span class="keywordflow">for</span> non-negative matrix factorization},</div><div class="line">  author={Lee, D.D. and Seung, H.S.},</div><div class="line">  booktitle={Advances in Neural Information Processing Systems 13</div><div class="line">      (NIPS 2000)},</div><div class="line">  pages={556--562},</div><div class="line">  year={2001}</div><div class="line">}</div></div><!-- fragment --><p>This is a multiplicative rule that ensures that the Kullbackâ€“Leibler divergence</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \sum_i \sum_j (V_{ij} \log\frac{V_{ij}}{(W H)_{ij}} - V_{ij} + (W H)_{ij}) \]" src="form_64.png"/>
</p>
<p>is non-increasing between subsequent iterations. Both of the update rules for W and H are defined in this file.</p>
<p>This set of update rules is not meant to work with sparse matrices. Using sparse matrices often causes NaNs in the output, so other choices of update rules are better in that situation. </p>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00048">48</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a989aecc76d2b526557e030c7e63506ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mlpack::amf::NMFMultiplicativeDivergenceUpdate::NMFMultiplicativeDivergenceUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00052">52</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4d74e4fe86c3eacf1567be69950fd616"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mlpack::amf::NMFMultiplicativeDivergenceUpdate::HUpdate </td>
          <td>(</td>
          <td class="paramtype">const MatType &amp;&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em>W</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::mat &amp;&#160;</td>
          <td class="paramname"><em>H</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The update rule for the encoding matrix H. </p>
<p>The formula used is</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ H_{a\mu} \leftarrow H_{a\mu} \frac{\sum_{i} W_{ia} V_{i\mu}/(WH)_{i\mu}} {\sum_{k} H_{ka}} \]" src="form_66.png"/>
</p>
<p>The function takes in all the matrices and only changes the value of the H matrix.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">V</td><td>Input matrix to be factorized. </td></tr>
    <tr><td class="paramname">W</td><td>Basis matrix. </td></tr>
    <tr><td class="paramname">H</td><td>Encoding matrix to updated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00124">124</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af81296ec72a027427fec6c48dd51ae60"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mlpack::amf::NMFMultiplicativeDivergenceUpdate::Initialize </td>
          <td>(</td>
          <td class="paramtype">const MatType &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the factorization. </p>
<p>These rules don't store any state, so the input values are ignore. </p>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00059">59</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad9da2750641b65e8c534edb0eb6323b8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Archive &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mlpack::amf::NMFMultiplicativeDivergenceUpdate::Serialize </td>
          <td>(</td>
          <td class="paramtype">Archive &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>int</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Serialize the object (in this case, there is nothing to serialize). </p>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00154">154</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9d17481f4277050bc0cfe4d2fddb54d8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mlpack::amf::NMFMultiplicativeDivergenceUpdate::WUpdate </td>
          <td>(</td>
          <td class="paramtype">const MatType &amp;&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::mat &amp;&#160;</td>
          <td class="paramname"><em>W</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em>H</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The update rule for the basis matrix W. </p>
<p>The formula used is</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ W_{ia} \leftarrow W_{ia} \frac{\sum_{\mu} H_{a\mu} V_{i\mu} / (W H)_{i\mu}} {\sum_{\nu} H_{a\nu}} \]" src="form_65.png"/>
</p>
<p>The function takes in all the matrices and only changes the value of the W matrix.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">V</td><td>Input matrix to be factorized. </td></tr>
    <tr><td class="paramname">W</td><td>Basis matrix to be updated. </td></tr>
    <tr><td class="paramname">H</td><td>Encoding matrix. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00080">80</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/mlpack/methods/amf/update_rules/<a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
<script type="text/javascript">
var x = document.getElementsByClassName("formulaDsp");
var i;
for (i = 0; i < x.length; i++)
{
  x[i].width /= 4;
}
</script>
</html>
